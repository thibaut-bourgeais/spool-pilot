<div class="mb-4 col-md-8">
  <div class="card-body">
    <h3 class="mb-4 col-md-9">üß≠ Dashboard</h3>
  </div>
</div>

<div class="container-fluid py-3">
  <div class="row">
    <!-- Left: Carrousel -->
    <div class="col-md-4 mb-4">
      <div class="card">
        <div class="card-body">
          <h4 class="card-title">üöß Current jobs</h4>
          <div
            id="printingCarousel"
            class="carousel slide carousel-fade"
            data-bs-ride="carousel"
          >
            <div class="carousel-inner">
              <div class="carousel-item active">
                <img
                  src="/static/image1.png"
                  class="d-block w-100 image-carousel"
                  alt="In progress"
                />
                <div class="progress">
                  <div
                    class="progress-bar progress-bar progress-bar-animated"
                    role="progressbar"
                    aria-valuenow="8"
                    aria-valuemin="0"
                    aria-valuemax="100"
                    style="width: 8%"
                  ></div>
                  <strong
                    class="justify-content-center d-flex position-absolute w-100 text-light"
                  >
                    15min/3h
                  </strong>
                </div>
                <div class="mt-2 card-body bg-light-subtle">
                  <h5 class="card-title">üñ®Ô∏è X1C-Top (AMS)</h5>
                  <strong>üè∑ File:</strong> filenameA<br />
                  <strong>üë§ Uploader:</strong> Alice<br />
                  <strong>‚è≥ Remaining:</strong> 2h 45m<br />
                  <strong>üì¶ In queue:</strong> 3 jobs
                </div>
              </div>
              <div class="carousel-item">
                <img
                  src="/static/image2.png"
                  class="d-block w-100 image-carousel"
                  alt="In progress"
                />
                <div class="progress">
                  <div
                    class="progress-bar progress-bar progress-bar-animated"
                    role="progressbar"
                    aria-valuenow="75"
                    aria-valuemin="0"
                    aria-valuemax="100"
                    style="width: 75%"
                  ></div>
                  <strong
                    class="justify-content-center d-flex position-absolute w-100 text-light"
                  >
                    45min/1h
                  </strong>
                </div>
                <div class="mt-2 card-body bg-light-subtle">
                  <h5 class="card-title">üñ®Ô∏è X1C-Bottom (Dryer)</h5>
                  <strong>üè∑ File:</strong> filenameB<br />
                  <strong>üë§ Uploader:</strong> Bob<br />
                  <strong>‚è≥ Remaining:</strong> 12m<br />
                  <strong>üì¶ In queue:</strong> 0 jobs
                </div>
              </div>
            </div>
            <button
              class="carousel-control-prev"
              type="button"
              data-bs-target="#printingCarousel"
              data-bs-slide="prev"
            >
              <span class="carousel-control-prev-icon"></span>
            </button>
            <button
              class="carousel-control-next"
              type="button"
              data-bs-target="#printingCarousel"
              data-bs-slide="next"
            >
              <span class="carousel-control-next-icon"></span>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Right: Queue -->
    <div class="col-md-8 mb-4">
      <div class="card">
        <div class="card-body">
          <h4>üïí Queue</h4>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>File</th>
                <th>Duration</th>
                <th>User</th>
                <th>Printer</th>
                <th>Filament(s)</th>
                <th>Priority</th>
                <th>Submitted at</th>
              </tr>
            </thead>
            <tbody>
              {% for job in queue %}
              <tr>
                <td>{{ job.filename }}</td>
                <td>{{ job.duration_min }} min</td>
                <td>{{ job.user }}</td>
                <td>{{ job.printer }}</td>
                <td>{{ job.filament }}</td>
                <td>{% if job.priority %}‚úÖ{% else %}‚Äî{% endif %}</td>
                <td>{{ job.submitted_at }}</td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <div class="card">
    <div class="card-body">
      <h4 class="card-title">‚ûï New print</h4>
      <div class="d-flex align-items-center gap-2 mb-3">
        <button id="refresh-button" type="button" class="btn btn-primary">
          <i class="bi bi-arrow-clockwise" id="refresh-icon"></i>
        </button>

        <button id="upload-button" type="button" class="btn btn-primary">
          <strong>Upload file</strong>
        </button>
      </div>
      <div class="row" id="filePreviewContainer"></div>
      <div class="text-end mt-3">
        <button
          class="btn btn-primary btn-lg"
          id="add-to-queue-button"
          disabled
        >
          Add to queue
        </button>
      </div>
    </div>
  </div>
</div>
